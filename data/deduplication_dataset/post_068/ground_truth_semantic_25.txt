오늘날 대다수의 인공지능 에이전트들은 표면적인 수준에 머무르고 있습니다. 이들은 복잡하거나 다단계적인 과제(예를 들어, 심층적인 탐색 활동이나 AI 주도 코딩 작업)에 직면하면 쉽게 한계에 부딪히곤 합니다. 그러나 이러한 상황은 급변하고 있습니다! 우리는 복잡다단한 난제를 해결하기 위해 체계적인 계획을 수립하고, 정보를 저장하며, 현명하게 업무를 분배하는 AI 시스템, 즉 '심층 에이전트(Deep Agents)'의 시대로 진입하고 있습니다. DAIR.AI 아카데미는 랭체인, 클로드 코드, 필립 슈미트와 같은 전문가들과 함께 이러한 개념을 체계화해왔습니다. 아래에서는 심층 에이전트를 구성하는 주요 요소들을 제 경험과 타인의 통찰을 바탕으로 제시합니다.

심층 에이전트의 잠재력을 더욱 명확히 보여드리기 위해, 저희는 과학 논문을 분석하고 핵심 정보를 추출하는 연구 보조 에이전트의 가상 사례를 들어 설명하고자 합니다. 이 시스템은 방대한 학술 자료에서 특정 연구 질문에 대한 답변을 찾아내고 요약하도록 설계되었습니다.

**계획 수립(Planning)**
단일 대화 흐름 내에서 즉각적으로 판단을 내리는 방식과 달리, 심층 에이전트는 수정하고, 재시도하며, 오류 발생 시 복구할 수 있는 체계적인 과업 설계도를 보유합니다. 이를 마치 에이전트가 궁극적인 목적지에 도달하도록 안내하는 동적인 작업 목록으로 상상해볼 수 있습니다. 이 기능을 체험하려면 클로드 코드나 코덱스를 활용하여 과업 계획을 수립해보십시오. 특정 활동을 실행하기 전에 이 기능을 활성화하면 훨씬 더 우수한 성과를 기대할 수 있습니다. 우리는 최근 클로드 코드를 활용한 장기적인 아이디어 발상(brainstorming)의 효과에 대해 논의했는데, 이는 계획 수립, 전문 지식 활용(expert context), 그리고 인간의 개입(human-in-the-loop)이 결합될 때(심층 에이전트와의 협력에서 인간의 전문성은 결정적인 강점입니다) 발휘되는 시너지를 보여줍니다. 이러한 계획 수립 능력은 장기적인 난제(예를 들어, 다음에 다룰 과학적 발견을 위한 에이전트와 같은) 해결에도 필수적일 것입니다.

**조정자(Orchestrator)와 보조 에이전트(Sub-agent) 구조(Architecture)**
단일의 거대한 에이전트(대개 방대한 컨텍스트를 지닌)만으로는 현대의 복잡한 요구사항을 충족시키기 어렵습니다. 저는 단일체(monolithic) 시스템을 옹호하며 다중 에이전트(multi-agent) 시스템에 회의적인 주장들을 접했지만, 이러한 관점에는 동의하기 어렵습니다. 조정자-보조 에이전트 구조는 오늘날 상상할 수 있는 모든 분야(domain)에 적용할 수 있는 가장 강력한 LLM 기반 에이전트 아키텍처 중 하나입니다. 조정자는 정보 탐색 에이전트(search agents), 코드 생성기(coders), 지식 기반 검색기(KB retrievers), 데이터 분석가(analysts), 결과 검증자(verifiers), 콘텐츠 작가(writers)와 같은 특화된 보조 에이전트들을 관리하며, 각 보조 에이전트는 고유한 명확한 컨텍스트와 특정 분야(domain)에 초점을 맞춥니다. 조정자는 지능적으로 업무를 분배하고, 보조 에이전트들은 할당된 작업을 효율적으로 수행합니다. 조정자는 이들의 산출물을 종합하여 일관된 최종 결과물을 만들어냅니다. 클로드 코드는 코딩 및 보조 에이전트 분야에서 이러한 접근 방식을 보편화시켰으며, 이는 컨텍스트를 효과적으로 관리하는 데(관심사 분리(separation of concerns)를 통해) 특히 유용하다는 것이 입증되었습니다. 저는 조정자와 보조 에이전트 활용의 효용성에 대한 몇 가지 견해를 [이곳](https://dair.ai/blog/orchestrator-subagents)과 [이곳](https://dair.ai/blog/orchestrator-subagents-2)에 기록했습니다.

**컨텍스트 검색(Context Retrieval) 및 에이전트 주도 검색(Agentic Search)**
심층 에이전트들은 단순한 대화 이력에만 의존하는 것이 아닙니다. 이들은 중간 단계의 결과물이나 핵심 정보를 문서 파일, 개인 노트, 벡터 임베딩(vector embeddings) 또는 구조화된 데이터베이스(databases)와 같은 외부 저장 공간에 보관함으로써, 주요 모델의 작업 공간(context)에 불필요한 부담을 주지 않으면서도 필요한 정보를 언제든 불러올 수 있게 합니다. 잘 구성된 고품질의 기억 저장소는 매우 중요합니다. 기억 체계를 구축하고 정보 탐색을 최적화하는 더 나은 방법에 대한 흥미로운 아이디어를 얻으려면 ReasoningBank나 Agentic Context Engineering과 같은 최신 연구들을 검토해보십시오. 오케스트레이터-서브 에이전트 구조를 채택하면, 에이전트 주도 검색(agentic search)과 의미 기반 검색(semantic search)과 같은 혼합형 기억 기술을 유연하게 활용할 수 있으며, 에이전트 스스로 어떤 검색 전략을 적용할지 판단하게 할 수 있습니다.

**컨텍스트 엔지니어링(Context Engineering)**
이러한 종류의 에이전트와 상호작용할 때 가장 피해야 할 행동 중 하나는 모호하거나 불완전한 지침(prompts)을 제공하는 것입니다. 프롬프트 엔지니어링(prompt engineering)은 과거에도, 그리고 지금도 중요하지만, 에이전트의 전반적인 운영 환경을 구축하는 중요성을 강조하기 위해 '컨텍스트 엔지니어링'이라는 새로운 용어를 사용하고자 합니다. 지침은 언제 계획을 수립하고, 언제 보조 에이전트를 활용하며, 결과 파일의 명명 규칙은 무엇이고, 인간 작업자와 어떻게 협력할 것인지 등을 명확하고, 상세하며, 의도적으로 정의해야 합니다. 컨텍스트 엔지니어링은 단순히 초기 프롬프트에 국한되지 않습니다. 이는 에이전트가 사용할 수 있는 도구의 명세, 데이터 스키마(data schema) 정의, 시스템 프롬프트(system prompt)의 지속적인 최적화, 컨텍스트 압축(compacting context) 기술의 적용, 컨텍스트 효율성 평가(evaluating context effectiveness)를 위한 체계적인 방법론, 그리고 도구 정의(tool definitions)의 정교화 등 에이전트의 전반적인 작업 환경을 최적화하는 포괄적인 노력을 포함합니다. 더 깊이 있는 이해를 위해서는 컨텍스트 엔지니어링에 대한 저희의 심층 가이드를 참고하시기 바랍니다: [컨텍스트 엔지니어링 심층 분석(Context Engineering Deep Dive)](https://dair.ai/blog/context-engineering-deep-dive)

**검증(Verification)**
컨텍스트 설계 다음으로, 검증은 에이전트 시스템의 핵심적인 요소 중 하나입니다(비록 상대적으로 덜 주목받지만). 이는 생성된 결과물을 확인하는 과정으로 요약되며, 대규모 언어 모델 자체를 평가 도구로 사용하거나(LLM-as-a-Judge) 인간 전문가의 검토를 통해 이루어질 수 있습니다. 최신 LLM들이 텍스트 생성(특히 수학이나 코딩 분야)에 있어 뛰어난 역량을 보여주기 때문에, 이들이 여전히 사실 왜곡(hallucination), 아부성 응답(sycophancy), 프롬프트 오염(prompt injection) 등 다양한 문제점을 내포하고 있음을 간과하기 쉽습니다. 이러한 검증 과정은 에이전트의 신뢰성을 높이고 실제 서비스 환경(production)에 적합하도록 만드는데 기여합니다. 체계적인 평가 절차(evaluation pipelines)를 활용하면 효과적인 검증 시스템을 구축할 수 있습니다.

**마지막 제언**
이는 AI 에이전트를 개발하는 방식에 있어 거대한 패러다임의 전환을 의미합니다. 심층 에이전트의 등장은 우리가 상상하는 미래의 지능형 시스템, 즉 우리를 대신하여 능동적으로 행동하는 개인화된 선제적 에이전트(proactive agents)를 위한 필수적인 토대처럼 느껴집니다. 저는 향후 게시물에서 이러한 선제적 에이전트에 대해 더 자세히 다룰 예정입니다. AI 에이전트를 효과적으로 구축하는 방법에 대한 다음 게시물을 놓치고 싶지 않으시다면, 유료 멤버십으로 업그레이드하는 것을 고려해보세요: [구독(Subscribe)](https://dair.ai/subscribe).

저희는 지난 수개월간 에이전트 개발자들에게 이러한 혁신적인 개념들을 교육해왔습니다. 만약 심층 에이전트를 직접 구축해보는 실질적인 경험에 관심이 있으시다면, 저희 아카데미의 최신 교육 과정을 살펴보시기 바랍니다: [https://dair-ai.thinkific.com/courses/agents-with-n8n](https://dair.ai/courses/agents-with-n8n). 이 글에 첨부된 도해들은 수강생들이 과정 최종 프로젝트로 구현하게 될 에이전트 기반 검색 증강 생성(Retrieval-Augmented Generation, RAG) 시스템의 작동 원리를 시각적으로 설명합니다. 본 게시물은 심층 에이전트의 설계 및 구현을 위한 포괄적인 통찰, 다운로드 가능한 템플릿(templates), 최적화된 프롬프트, 그리고 고급 개발 팁을 제공하는 저희의 신규 과정 “ [n8n으로 효과적인 AI 에이전트 구축하기(Building Effective AI Agents with n8n)](https://dair.ai/courses/agents-with-n8n) ”의 내용을 기반으로 합니다. [지금 바로 등록하세요(Enroll Now)](https://dair.ai/courses/agents-with-n8n).